"use strict";var Notifications={notifyNewNote:function(e){var t={type:"basic",iconUrl:chrome.runtime.getURL("/img/icon_128.png"),title:"New note stored! ("+getTime()+")",message:"Click app icon to load it. ("+e.textarea.replace(/<(?:.|\n)*?>/gm," ").replace(/\s+/g," ").slice(0,40)+")"};chrome.notifications.create(e.id,t,function(){})},notifyUpdatedNote:function(e){var t={type:"basic",iconUrl:chrome.runtime.getURL("/img/icon_128.png"),title:"A note has been updated! ("+getTime()+")",message:"Click app icon to load it. ("+e.textarea.replace(/<(?:.|\n)*?>/gm," ").replace(/\s+/g," ").slice(0,40)+")"};chrome.notifications.create(e.id,t,function(){})},idmap:{},onClicked:function(e){var t=Notifications.idmap[e]||e;if(console.log("CLICK",t,t),/\d+_\d+/.test(t))App.openLauncher();else switch(t){case"multiple_notes_updated":App.openLauncher()}},simpleInfo:function(e){var t={type:"basic",iconUrl:chrome.runtime.getURL("/img/icon_128.png"),title:"Sticky Notes",message:e};chrome.notifications.create(t)},notify:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];chrome.notifications.create(i,e,function(e){t.idmap[e]=i})},notifyAboutUpdatedNotes:function(e){var t=this,i=function(){t.notify({type:"basic",iconUrl:chrome.runtime.getURL("/img/icon_128.png"),title:"Sticky Notes",message:"One note was updated",isClickable:!0},e.id)};if(e&&Array.isArray(e))e.length>1?this.notify({type:"basic",iconUrl:chrome.runtime.getURL("/img/icon_128.png"),title:"Sticky Notes",message:e.length+" notes were updated",isClickable:!0},"multiple_notes_updated"):1===e.length&&(e=e[0],i());else{if(!e)return!1;i()}},notifyAboutRemovedNotes:function(e){var t=this,i=function(){t.notify({type:"basic",iconUrl:chrome.runtime.getURL("/img/icon_128.png"),title:"Sticky Notes",message:"One note was removed",isClickable:!1},"note_removed")};if(e&&Array.isArray(e))e.length>1?this.notify({type:"basic",iconUrl:chrome.runtime.getURL("/img/icon_128.png"),title:"Sticky Notes",message:e.length+" notes were removed",isClickable:!1},"note_removed"):1===e.length&&(e=e[0],i());else{if(!e)return!1;i()}}};